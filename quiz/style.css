/* Enhanced style.css - Compatible with existing dark theme */
/* Keep all existing styles and add enhancements */

/* Existing CSS variables and base styles remain the same */
:root{
  --bg:#0f172a;
  --card:#0b1220;
  --accent1:#ff7ab6;
  --accent2:#75d8ff;
  --accent3:#ffd86b;
  --text:#f3f7fc;
  --muted:#9fb4c8;
  --danger:#ff6b6b;
  --glass: rgba(255,255,255,0.04);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
  background: radial-gradient(1200px 600px at 10% 10%, rgba(122,207,255,0.06), transparent),
              radial-gradient(900px 400px at 90% 90%, rgba(255,122,182,0.04), transparent),
              var(--bg);
  color:var(--text);
  -webkit-font-smoothing:antialiased;
  -moz-font-smoothing:grayscale;
}

.center{display:flex;min-height:100vh;align-items:center;justify-content:center;padding:20px}
.card{
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border:1px solid rgba(255,255,255,0.04);
  padding:16px;
  border-radius:12px;
  box-shadow: 0 8px 24px rgba(2,6,23,0.6);
}

.auth-card{width:100%;max-width:420px;text-align:center;padding:28px}

.brand{font-size:28px;margin:0;background:linear-gradient(90deg,var(--accent1),var(--accent2));-webkit-background-clip:text;background-clip:text;color:transparent;font-weight:700}
.lead{color:var(--muted)}

input{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.05);background:var(--glass);color:var(--text);margin:8px 0}
.btn{display:inline-block;padding:10px 14px;border-radius:10px;border:none;background:linear-gradient(90deg,var(--accent1),var(--accent3));color:#041025;font-weight:600;cursor:pointer}
.btn.small{padding:6px 10px;font-size:13px}
.btn.muted{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)}
.btn.danger{background:linear-gradient(90deg,var(--danger),#ff9a9a);color:#fff}

.muted{color:var(--muted)}
.small{font-size:12px}
.hidden{display:none}
.mt{margin-top:12px}

/* Layout */
.topbar{display:flex;justify-content:space-between;align-items:center;padding:12px 18px;position:sticky;top:0;background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);backdrop-filter: blur(4px)}
.container{display:flex;gap:16px;align-items:flex-start;padding:18px;flex-wrap:wrap}
.left{flex:1;min-width:280px}
.right{width:420px;min-width:300px}

/* Players table */
.players-table{width:100%;border-collapse:collapse}
.players-table th, .players-table td{padding:8px;text-align:left;border-bottom:1px dashed rgba(255,255,255,0.03);font-size:14px}
.players-table thead th{color:var(--muted)}

/* Random digits styling */
.random-digits{font-family:monospace;font-size:28px;padding:8px;border-radius:8px;background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));text-align:center}

/* Timer */
.timer-wrap{display:flex;flex-direction:column;gap:8px}
#timer{font-size:24px;font-weight:700}
.progress-bg{height:8px;background:rgba(255,255,255,0.03);border-radius:999px;overflow:hidden}
.progress-bar{height:100%;width:0%;border-radius:999px;background:linear-gradient(90deg,var(--accent2),var(--accent1));transition:width 0.4s ease}

/* Enhanced Chatbox Styles - Mobile Optimized */
.chat-card{position:relative}

.chat-window{
  height:260px;
  overflow:auto;
  padding:12px;
  border-radius:10px;
  background:linear-gradient(180deg, rgba(2,6,23,0.6), rgba(0,0,0,0.2));
  display:flex;
  flex-direction:column;
  gap:6px; /* Reduced gap for better mobile density */
  scroll-behavior: smooth;
}

/* Enhanced scrollbar for chat */
.chat-window::-webkit-scrollbar {
  width: 4px;
}

.chat-window::-webkit-scrollbar-track {
  background: rgba(255,255,255,0.02);
  border-radius: 2px;
}

.chat-window::-webkit-scrollbar-thumb {
  background: rgba(255,255,255,0.1);
  border-radius: 2px;
}

.chat-window::-webkit-scrollbar-thumb:hover {
  background: rgba(255,255,255,0.2);
}

.chat-bubble{
  padding:8px 10px; /* Reduced padding for mobile */
  border-radius:12px;
  max-width:85%; /* Better for mobile */
  box-shadow:0 6px 18px rgba(2,6,23,0.6);
  animation:pop .18s ease;
  font-size: 0.85rem; /* Smaller text for mobile */
  line-height: 1.4;
  word-wrap: break-word;
}

/* Enhanced styling for user's own messages */
.chat-bubble.me{
  margin-left:auto;
  /* Original gradient will be overridden by JavaScript for better contrast */
  background:linear-gradient(90deg,var(--accent1),var(--accent3));
  color:#041025;
  transform:translateY(0);
}

/* Enhanced styling for other users' messages */
.chat-bubble.other{
  margin-right:auto;
  background:linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.04)); /* Slightly more visible */
  color:var(--text);
}

.chat-input{
  display:flex;
  gap:8px;
  margin-top:8px;
}

.chat-input input{
  flex:1;
  font-size: 0.9rem; /* Consistent with mobile optimization */
  padding: 10px 12px;
}

.chat-input button {
  font-size: 0.9rem;
  white-space: nowrap;
}

@keyframes pop{from{transform:translateY(6px) scale(.98);opacity:0}to{transform:translateY(0) scale(1);opacity:1}}

.status-online {
  color: #10b981;
  font-weight: 600;
  padding: 4px 8px;
  background-color: rgba(16, 185, 129, 0.1);
  border-radius: 12px;
  font-size: 12px;
  display: inline-block;
}

.status-offline {
  color: #ef4444;
  font-weight: 600;
  padding: 4px 8px;
  background-color: rgba(239, 68, 68, 0.1);
  border-radius: 12px;
  font-size: 12px;
  display: inline-block;
}

/* Enhanced Mobile Responsiveness */
@media (max-width:880px){
  .container{flex-direction:column}
  .right{width:100%}
}

@media (max-width: 768px) {
  .players-table th,
  .players-table td {
    padding: 6px 8px;
    font-size: 14px;
  }
  
  .status-online,
  .status-offline {
    font-size: 11px;
    padding: 2px 6px;
  }
  
  /* Enhanced chat mobile styles */
  .chat-window {
    height: 220px; /* Smaller height for mobile */
  }
  
  .chat-bubble {
    font-size: 0.8rem; /* Even smaller text for small screens */
    padding: 6px 8px;
    max-width: 90%;
  }
  
  .chat-input input,
  .chat-input button {
    font-size: 0.85rem;
  }
}

/* Extra small screens */
@media (max-width: 480px) {
  .container {
    padding: 12px;
  }
  
  .chat-window {
    height: 180px;
    padding: 8px;
  }
  
  .chat-bubble {
    font-size: 0.75rem;
    max-width: 95%;
  }
  
  .chat-input {
    margin-top: 6px;
  }
  
  .chat-input input {
    font-size: 0.8rem;
    padding: 8px 10px;
  }
  
  .chat-input button {
    font-size: 0.8rem;
    padding: 8px 10px;
  }
}